
# æ”¿åºœæ”¿ç­–çˆ¬è™«

## é¡¹ç›®ç®€ä»‹

è¿™æ˜¯ä¸€ä¸ªç”¨äºçˆ¬å–æ”¿åºœæ”¿ç­–ä¿¡æ¯çš„ç½‘ç»œçˆ¬è™«ç¨‹åºï¼Œèƒ½å¤Ÿè‡ªåŠ¨ä»æŒ‡å®šçš„æ”¿åºœç½‘ç«™æŠ“å–æœ€æ–°æ”¿ç­–æ–‡ä»¶ã€å…¬å‘Šé€šçŸ¥ç­‰ç›¸å…³ä¿¡æ¯ã€‚

## åŠŸèƒ½ç‰¹ç‚¹

* ğŸ” è‡ªåŠ¨æŠ“å–æ”¿åºœç½‘ç«™æ”¿ç­–ä¿¡æ¯
* ğŸ“„ æ”¯æŒå¤šç§æ–‡ä»¶æ ¼å¼ä¸‹è½½ï¼ˆPDF/DOC/PPTç­‰ï¼‰
* âš¡ å¤šçº¿ç¨‹é«˜æ•ˆçˆ¬å–
* ğŸ—ƒï¸ ç»“æ„åŒ–æ•°æ®å­˜å‚¨
* ğŸ”„ å®šæ—¶æ›´æ–°æœºåˆ¶
* ğŸ›¡ï¸ éµå®ˆrobots.txtåè®®

## ç¯å¢ƒè¦æ±‚

**text**

```
Python 3.7+
requests >= 2.25.1
beautifulsoup4 >= 4.9.3
lxml >= 4.6.3
pymongo >= 3.11.0  # å¦‚æœä½¿ç”¨MongoDB
```

## å®‰è£…æ­¥éª¤

1. å…‹éš†é¡¹ç›®

**bash**

```
git clone [é¡¹ç›®åœ°å€]
cd government-policy-crawler
```

2. å®‰è£…ä¾èµ–

**bash**

```
pip install -r requirements.txt
```

3. é…ç½®è®¾ç½®

**bash**

```
cp config.example.py config.py
# ç¼–è¾‘config.pyæ–‡ä»¶ï¼Œé…ç½®æ•°æ®åº“è¿æ¥å’Œçˆ¬è™«å‚æ•°
```

## ä½¿ç”¨æ–¹æ³•

### åŸºæœ¬ä½¿ç”¨

**python**

```
from crawler import PolicyCrawler

# åˆå§‹åŒ–çˆ¬è™«
crawler = PolicyCrawler()

# å¼€å§‹çˆ¬å–
crawler.start()
```

### å‘½ä»¤è¡Œä½¿ç”¨

**bash**

```
# çˆ¬å–æ‰€æœ‰æ”¿ç­–
python main.py --all

# çˆ¬å–æŒ‡å®šéƒ¨é—¨
python main.py --department ç§‘æŠ€éƒ¨

# æŒ‡å®šæ—¶é—´èŒƒå›´
python main.py --start-date 2024-01-01 --end-date 2024-03-01
```

## é…ç½®è¯´æ˜

åœ¨ `config.py`ä¸­é…ç½®ä»¥ä¸‹å‚æ•°ï¼š

**python**

```
# æ•°æ®åº“é…ç½®
DATABASE = {
    'host': 'localhost',
    'port': 27017,
    'name': 'policy_db'
}

# çˆ¬è™«é…ç½®
CRAWLER = {
    'delay': 1,  # è¯·æ±‚å»¶è¿Ÿ
    'timeout': 10,  # è¯·æ±‚è¶…æ—¶
    'retry_times': 3  # é‡è¯•æ¬¡æ•°
}

# ç›®æ ‡ç½‘ç«™åˆ—è¡¨
TARGET_SITES = [
    'http://www.gov.cn',
    'http://www.most.gov.cn',
    # æ·»åŠ æ›´å¤šæ”¿åºœç½‘ç«™...
]
```

## é¡¹ç›®ç»“æ„

**text**

```
government-policy-crawler/
â”œâ”€â”€ crawler/           # çˆ¬è™«æ ¸å¿ƒæ¨¡å—
â”œâ”€â”€ data/             # æ•°æ®å­˜å‚¨ç›®å½•
â”œâ”€â”€ utils/            # å·¥å…·å‡½æ•°
â”œâ”€â”€ config.py         # é…ç½®æ–‡ä»¶
â”œâ”€â”€ main.py          # ä¸»ç¨‹åº
â”œâ”€â”€ requirements.txt  # ä¾èµ–åˆ—è¡¨
â””â”€â”€ README.md        # è¯´æ˜æ–‡æ¡£
```

## æ•°æ®æ ¼å¼

çˆ¬å–çš„æ”¿ç­–æ•°æ®åŒ…å«ä»¥ä¸‹å­—æ®µï¼š

**json**

```
{
    "title": "æ”¿ç­–æ ‡é¢˜",
    "department": "å‘å¸ƒéƒ¨é—¨",
    "publish_date": "å‘å¸ƒæ—¶é—´",
    "content": "æ”¿ç­–å†…å®¹",
    "file_urls": ["é™„ä»¶ä¸‹è½½é“¾æ¥"],
    "source_url": "åŸæ–‡é“¾æ¥",
    "crawl_time": "çˆ¬å–æ—¶é—´"
}
```

## æ³¨æ„äº‹é¡¹

âš ï¸ **é‡è¦æç¤º**

* è¯·éµå®ˆç›®æ ‡ç½‘ç«™çš„robots.txtåè®®
* æ§åˆ¶çˆ¬å–é¢‘ç‡ï¼Œé¿å…å¯¹ç›®æ ‡ç½‘ç«™é€ æˆå‹åŠ›
* ä»…ç”¨äºå­¦ä¹ å’Œç ”ç©¶ç›®çš„
* éµå®ˆç›¸å…³æ³•å¾‹æ³•è§„

## è®¸å¯è¯

MIT License

## æ›´æ–°æ—¥å¿—

### v1.0.0 (2024-03-20)

* åˆå§‹ç‰ˆæœ¬å‘å¸ƒ
* å®ç°åŸºç¡€çˆ¬å–åŠŸèƒ½
* æ”¯æŒå¤šç½‘ç«™é…ç½®
